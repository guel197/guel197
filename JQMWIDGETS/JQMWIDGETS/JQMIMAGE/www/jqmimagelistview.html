<!DOCTYPE html>
<html lang="en">
<head>
    <title>jQuery Mobile Listview with Popups</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- jQuery Mobile CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    
    <!-- jQuery Mobile JS -->
    <script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    
</head>

<body>
    <div data-role="page" id="listview-page">
        <!-- Header -->
        <div data-role="header" data-position="fixed" data-theme="b">
            <a href="index.html" class="ui-btn ui-corner-all ui-icon-back ui-btn-icon-left">Back</a>
            <h1><i class="ui-icon-bars"></i> Profile Gallery</h1>
        </div>

        <!-- Main Content -->
        <div role="main" class="ui-content">
            <h1 class="page-title">Profile List</h1>
            <p style="text-align: center; color: #7f8c8d; margin-bottom: 25px;">
                Tap on any profile to view detailed information and photo
            </p>
            
            <h2 class="section-title">Personal Profiles</h2>
            
            <!-- Listview 1: Miguel -->
            <ul data-role="listview" data-inset="true" data-icon="false" data-theme="c">
                <li>
                    <a href="#popupmiguel" data-rel="popup" data-position-to="window" data-transition="fade">
                        <img src="https://scontent.fcgy2-2.fna.fbcdn.net/v/t39.30808-6/487511173_3582016245425324_5095183832547361237_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeHeJZbj_sesE1aNsyUTr0wPXHZaUHQBs0ZcdlpQdAGzRhv9RDfuevkd98MlhoRj0fLa41ds8k_sJV5i19G_Q5NH&_nc_ohc=IOeWrCVxggEQ7kNvwHCrOzt&_nc_oc=AdnL88gtfDCyKW19XOYDuY7mkYjvwjFHvoXy8ynG8Ppf4zco3ZsDUQ5B_-6i_1-76UXLPiVClUeF-2C1n6Dr7ZmY&_nc_zt=23&_nc_ht=scontent.fcgy2-2.fna&_nc_gid=pccaLUlva-ZcFJqU2Wq3kQ&oh=00_AfsoP1QzITp27yXW3Jyq5cGHr9KJP3rcSuJyNMtWuH3yVg&oe=698550B2" alt="Miguel Plasencia" class="ui-li-thumb">
                        <h2>Miguel Plasencia</h2>
                        <p><strong>IT Student</strong></p>
                        <p>BS in Information Technology</p>
                        <p class="ui-li-aside">Tap to view</p>
                    </a>
                </li>
            </ul>
            
            <!-- Listview 2: Family -->
            <ul data-role="listview" data-inset="true" data-icon="false" data-theme="c">
                <li>
                    <a href="#popupfampic" data-rel="popup" data-position-to="window" data-transition="fade">
                        <img src="https://scontent.fcgy2-2.fna.fbcdn.net/v/t1.6435-9/80779977_2238005886493040_1065336414087938048_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFPjddzDfdLOR6_RG1m-2lY92kAIefJhCH3aQAh58mEIX7L-dHSvcG40Uwifg6vmCWCywcImgm7SlfTRwa_Dp4X&_nc_ohc=RAIFP4xlrbkQ7kNvwHlcu0U&_nc_oc=AdnBn24wSe_bs1teSYWq0v_nwWREzlkaAjSOO7RCP9S48Y0tX2EUP5H7plIpq5P8DA5P0QZJeqMm40FS0Z8aRjHg&_nc_zt=23&_nc_ht=scontent.fcgy2-2.fna&_nc_gid=yx8x8RKVOYZs4UDRsjbWCQ&oh=00_Afs5h3MmQH07nOO1qUSygt_OVuCh7PZ6veA8s8enEx1zlQ&oe=69A6EB35" alt="Family Picture" class="ui-li-thumb">
                        <h2>Family Picture</h2>
                        <p><strong>Our Sweet Home</strong></p>
                        <p>Special family gathering event</p>
                        <p class="ui-li-aside">Tap to view</p>
                    </a>
                </li>
            </ul>
            
            <!-- Additional list items can be added here -->
            <div style="margin-top: 30px; text-align: center; color: #95a5a6; font-size: 13px;">
                <p><i class="ui-icon-info" style="display: inline-block; vertical-align: middle;"></i> 
                Each list item opens a detailed view with full-size image</p>
            </div>
        </div>

        <!-- Footer -->
        <div data-role="footer" data-position="fixed" data-theme="b">
            <h4>Â© 2023 Marfa Collection | Mobile Application Development</h4>
        </div>

        <!-- Popup 1: Miguel -->
        <div data-role="popup" id="popupmiguel" class="popup-container" 
             data-overlay-theme="b" data-corners="false" data-tolerance="30,15">
            <a href="#" data-rel="back" 
               class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-close">
               Close
            </a>
            <img class="popup-photo" src="https://scontent.fcgy2-2.fna.fbcdn.net/v/t39.30808-6/487511173_3582016245425324_5095183832547361237_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=a5f93a&_nc_eui2=AeHeJZbj_sesE1aNsyUTr0wPXHZaUHQBs0ZcdlpQdAGzRhv9RDfuevkd98MlhoRj0fLa41ds8k_sJV5i19G_Q5NH&_nc_ohc=IOeWrCVxggEQ7kNvwHCrOzt&_nc_oc=AdnL88gtfDCyKW19XOYDuY7mkYjvwjFHvoXy8ynG8Ppf4zco3ZsDUQ5B_-6i_1-76UXLPiVClUeF-2C1n6Dr7ZmY&_nc_zt=23&_nc_ht=scontent.fcgy2-2.fna&_nc_gid=pccaLUlva-ZcFJqU2Wq3kQ&oh=00_AfsoP1QzITp27yXW3Jyq5cGHr9KJP3rcSuJyNMtWuH3yVg&oe=698550B2" alt="Miguel Plasencia" class="ui-li-thumb" alt="Miguel Plasencia">
            <div class="popup-caption">
                <h3>Miguel Plasencia</h3>
                <p>Information Technology Student </p>
                <p>Studying Specializing in Web Development and Mobile Applications</p>
            </div>
        </div>

        <!-- Popup 2: Family -->
        <div data-role="popup" id="popupfampic" class="popup-container" 
             data-overlay-theme="b" data-corners="false" data-tolerance="30,15">
            <a href="#" data-rel="back" 
               class="ui-btn ui-corner-all ui-shadow ui-btn-a ui-icon-delete ui-btn-icon-notext ui-btn-right ui-btn-close">
               Close
            </a>
            <img class="popup-photo" src="https://scontent.fcgy2-2.fna.fbcdn.net/v/t1.6435-9/80779977_2238005886493040_1065336414087938048_n.jpg?_nc_cat=109&ccb=1-7&_nc_sid=833d8c&_nc_eui2=AeFPjddzDfdLOR6_RG1m-2lY92kAIefJhCH3aQAh58mEIX7L-dHSvcG40Uwifg6vmCWCywcImgm7SlfTRwa_Dp4X&_nc_ohc=RAIFP4xlrbkQ7kNvwHlcu0U&_nc_oc=AdnBn24wSe_bs1teSYWq0v_nwWREzlkaAjSOO7RCP9S48Y0tX2EUP5H7plIpq5P8DA5P0QZJeqMm40FS0Z8aRjHg&_nc_zt=23&_nc_ht=scontent.fcgy2-2.fna&_nc_gid=yx8x8RKVOYZs4UDRsjbWCQ&oh=00_Afs5h3MmQH07nOO1qUSygt_OVuCh7PZ6veA8s8enEx1zlQ&oe=69A6EB35" alt="Family Picture">
            <div class="popup-caption">
                <h3>Family Gathering</h3>
                <p>Madridejos Cultural Center</p>
                <p>A memorable family celebration captured in 2023</p>
            </div>
        </div>
    </div>

    <script>
        // Initialize jQuery Mobile
        $(document).on("pagecreate", "#listview-page", function() {
            // Set default transitions
            $.mobile.defaultPageTransition = "slide";
            
            // Enhance listview items
            $("[data-role='listview']").listview().listview("refresh");
            
            // Add click effect to list items
            $(".ui-listview a").on("click", function() {
                $(this).closest("li").addClass("ui-btn-active");
            });
            
            // Handle popup close
            $(document).on("popupafterclose", function() {
                $(".ui-listview li").removeClass("ui-btn-active");
            });
            
            // Keyboard support
            $(document).on("keyup", function(e) {
                if (e.keyCode === 27) { // ESC key closes popup
                    if ($(".ui-popup-active").length) {
                        $(".ui-popup-active").popup("close");
                    }
                }
            });
            
            // Handle image loading errors
            $("img").on("error", function() {
                var $img = $(this);
                var altText = $img.attr("alt") || "Image";
                $img.replaceWith(
                    '<div style="width: ' + $img.width() + 'px; height: ' + $img.height() + 'px; ' +
                    'background: #ecf0f1; display: flex; align-items: center; justify-content: center; ' +
                    'border-radius: 8px; border: 2px dashed #bdc3c7;">' +
                    '<span style="color: #7f8c8d; font-size: 12px; text-align: center;">' +
                    '<i class="ui-icon-alert" style="display: block; font-size: 24px; margin-bottom: 5px;"></i>' +
                    altText + '<br><small>Image not found</small>' +
                    '</span></div>'
                );
            });
        });
        
        // Prevent zoom on double tap
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        }, false);
    </script>
</body>
</html>